<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Be My Valentine?</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Quicksand:wght@400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --wine:#5c1a32;
      --glass: rgba(255,255,255,0.18);
      --border: rgba(255,255,255,0.45);
      --shadow: 0 25px 70px rgba(92,26,50,0.35);
      --pink1:#ff9a9e;
      --pink2:#fecfef;
      --peach:#f6d9a6;
    }
    *{box-sizing:border-box}

    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      font-family:'Quicksand','Segoe UI',sans-serif;
      color:var(--wine);
      overflow:hidden;
      background:
        radial-gradient(circle at 20% 20%, rgba(255,255,255,0.35), transparent 35%),
        radial-gradient(circle at 80% 0%, rgba(255,255,255,0.18), transparent 30%),
        linear-gradient(135deg, var(--pink1) 0%, var(--pink2) 45%, var(--peach) 100%);
      position:relative;
    }

    /* soft glow blobs */
    body::before, body::after{
      content:"";
      position:fixed;
      width:520px;
      height:520px;
      border-radius:50%;
      filter: blur(55px);
      opacity:0.45;
      z-index:0;
      pointer-events:none;
    }
    body::before{
      top:-160px;
      left:-140px;
      background: radial-gradient(circle, rgba(255,126,182,0.95), transparent 65%);
    }
    body::after{
      bottom:-190px;
      right:-160px;
      background: radial-gradient(circle, rgba(255,177,153,0.95), transparent 65%);
    }

    /* heart pattern overlay */
    .pattern{
      position:fixed;
      inset:0;
      z-index:1;
      pointer-events:none;
      opacity:0.18;
      background-image:
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='72' height='72' viewBox='0 0 72 72'%3E%3Cpath d='M36 56s-18-10.9-25-21.8C5 25.4 8.3 16.8 16.9 15.1c5.3-1 10.2 1.4 13.1 5.5 2.9-4.1 7.8-6.5 13.1-5.5 8.6 1.7 11.9 10.3 5.9 19.1C54 45.1 36 56 36 56z' fill='%23ffffff'/%3E%3C/svg%3E");
      background-size: 120px 120px;
      background-repeat: repeat;
      mix-blend-mode: soft-light;
    }

    .texture{
      position:fixed;
      inset:0;
      background-image: linear-gradient(transparent 60%, rgba(255,255,255,0.25));
      mix-blend-mode: screen;
      pointer-events:none;
      opacity:0.55;
      z-index:2;
    }

    /* floating hearts */
    .float-heart{
      position:fixed;
      width: var(--size, 18px);
      height: var(--size, 18px);
      left: var(--left, 50%);
      top: 110vh;
      z-index:2;
      pointer-events:none;
      opacity:0;
      filter: drop-shadow(0 10px 18px rgba(92,26,50,0.14));
      animation: floatUp var(--dur, 18s) linear infinite;
      animation-delay: var(--delay, 0s);
    }
    .float-heart::before{
      content:"";
      position:absolute;
      inset:0;
      background: linear-gradient(135deg, rgba(255,255,255,0.95), rgba(255,255,255,0.45));
      clip-path: polygon(
        50% 0%, 61% 9%, 70% 20%, 78% 34%, 82% 49%,
        80% 63%, 71% 78%, 50% 100%, 29% 78%, 20% 63%,
        18% 49%, 22% 34%, 30% 20%, 39% 9%
      );
      border-radius:6px;
      opacity:0.75;
    }
    @keyframes floatUp{
      0%   { transform: translateY(0) scale(0.85) rotate(0deg); opacity:0; }
      12%  { opacity:0.55; }
      50%  { transform: translateY(-65vh) scale(1) rotate(10deg); opacity:0.55; }
      100% { transform: translateY(-140vh) scale(1.25) rotate(22deg); opacity:0; }
    }

    .card{
      position:relative;
      z-index:3;
      max-width:430px;
      width:90vw;
      padding:34px 30px 32px;
      background:var(--glass);
      border:1px solid var(--border);
      border-radius:22px;
      box-shadow:var(--shadow);
      backdrop-filter: blur(16px);
      text-align:center;
    }

    h1{
      margin:0;
      font-family:'Playfair Display',serif;
      font-size: clamp(1.9rem, 4vw, 2.4rem);
      letter-spacing:-0.02em;
      line-height:1.2;
    }

    /* Buttons ALWAYS side-by-side */
    .actions{
      display:flex;
      justify-content:center;
      gap:14px;
      margin-top:18px;
      align-items:center;
      min-height:70px;
      position:relative;
    }

    /* Interface slot: No button can move ONLY inside here */
    .slot{
      position:relative;
      width: 220px;
      height: 82px;
    }

    .btn{
      border:none;
      border-radius:14px;
      padding:12px 22px;
      font-size:1.05rem;
      font-weight:700;
      cursor:pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.4s ease;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
      width: auto;
      height: auto;
    }

    .btn.primary{
      color:#fff;
      background: linear-gradient(135deg, #ff758c, #ff7eb3);
      box-shadow: 0 15px 40px rgba(255,118,150,0.45);
    }
    .btn.primary:hover{ transform: translateY(-2px) scale(1.02); }

    /* No button is absolutely positioned inside slot */
    #no{
      position:absolute;
      left:0;
      top:0;
      min-width: 120px;
      background: rgba(255,255,255,0.62);
      color: var(--wine);
      border: 1px solid rgba(92,26,50,0.18);
      box-shadow: 0 10px 24px rgba(92,26,50,0.18);
    }

    .message{
      display:none;
      margin-top:18px;
      padding:14px 16px;
      border-radius:14px;
      background: rgba(255,255,255,0.80);
      border: 1px solid rgba(92,26,50,0.22);
      box-shadow: 0 12px 26px rgba(92,26,50,0.18);
      font-weight:700;
      line-height:1.4;
      animation: fadeIn 0.45s ease;
    }
    @keyframes fadeIn{
      from{ opacity:0; transform: translateY(8px); }
      to  { opacity:1; transform: translateY(0); }
    }

    .burst-heart{
      position:fixed;
      width:14px;
      height:14px;
      z-index:4;
      background: linear-gradient(135deg, #ff7eb6, #ffb199);
      clip-path: polygon(
        50% 0%, 61% 9%, 70% 20%, 78% 34%, 82% 49%,
        80% 63%, 71% 78%, 50% 100%, 29% 78%, 20% 63%,
        18% 49%, 22% 34%, 30% 20%, 39% 9%
      );
      pointer-events:none;
      opacity:0;
      animation: burst 1.6s ease forwards;
      filter: drop-shadow(0 10px 18px rgba(92,26,50,0.14));
    }
    @keyframes burst{
      0%   { transform: translate(0,0) scale(0.6) rotate(-12deg); opacity:0; }
      20%  { opacity:1; }
      60%  { transform: translate(var(--x), var(--y)) scale(1.2) rotate(12deg); opacity:0.9; }
      100% { transform: translate(var(--x), calc(var(--y) - 40px)) scale(0.6); opacity:0; }
    }

    @media (max-width:480px){
      .actions{ flex-direction:column; }
      .slot{ width: 100%; max-width: 280px; }
    }
  </style>
</head>

<body>
  <div class="pattern"></div>
  <div class="texture"></div>

  <span class="float-heart" style="--left:6%;  --size:16px; --dur:18s;"></span>
  <span class="float-heart" style="--left:14%; --size:22px; --dur:22s; --delay:1s;"></span>
  <span class="float-heart" style="--left:24%; --size:14px; --dur:16s; --delay:3s;"></span>
  <span class="float-heart" style="--left:36%; --size:26px; --dur:20s; --delay:2s;"></span>
  <span class="float-heart" style="--left:48%; --size:18px; --dur:17s; --delay:4s;"></span>
  <span class="float-heart" style="--left:60%; --size:20px; --dur:21s; --delay:1.5s;"></span>
  <span class="float-heart" style="--left:72%; --size:15px; --dur:19s; --delay:2.5s;"></span>
  <span class="float-heart" style="--left:84%; --size:24px; --dur:23s; --delay:3.5s;"></span>
  <span class="float-heart" style="--left:92%; --size:16px; --dur:18s; --delay:5s;"></span>

  <main class="card">
    <h1>Will you be my Valentine?</h1>

    <div class="actions">
      <div class="slot">
        <button id="yes" class="btn primary" type="button">Yes!</button>
      </div>

      <div class="slot" id="noSlot">
        <button id="no" class="btn" type="button">Let me think...</button>
      </div>
    </div>

    <div id="message" class="message" aria-live="polite"></div>
  </main>

  <script>
    const noButton = document.getElementById("no");
    const noSlot = document.getElementById("noSlot");
    const yesButton = document.getElementById("yes");
    const message = document.getElementById("message");

    function moveNoInsideSlot() {
      const padding = 8;

      // movement boundaries INSIDE the slot
      const maxX = noSlot.clientWidth - noButton.offsetWidth - padding;
      const maxY = noSlot.clientHeight - noButton.offsetHeight - padding;

      const x = padding + Math.random() * Math.max(4, maxX);
      const y = padding + Math.random() * Math.max(4, maxY);

      noButton.style.left = `${x}px`;
      noButton.style.top = `${y}px`;
    }

    // start floating only when the cursor actually touches the button
    let floatTimer = null;
    const startFloat = () => {
      moveNoInsideSlot();
      if (floatTimer) return;
      floatTimer = setInterval(moveNoInsideSlot, 420);
    };
    const stopFloat = () => {
      if (floatTimer) {
        clearInterval(floatTimer);
        floatTimer = null;
      }
    };
    const repelFromPointer = (clientX, clientY) => {
      const rect = noSlot.getBoundingClientRect();
      const bx = clientX - rect.left;
      const by = clientY - rect.top;
      // bias movement away from the approaching pointer within the slot
      const padding = 8;
      const maxX = rect.width - noButton.offsetWidth - padding;
      const maxY = rect.height - noButton.offsetHeight - padding;
      const targetX = Math.min(Math.max(maxX - bx + padding, padding), maxX);
      const targetY = Math.min(Math.max(maxY - by + padding, padding), maxY);
      noButton.style.left = `${targetX}px`;
      noButton.style.top = `${targetY}px`;
    };

    noButton.addEventListener("pointerenter", (e) => {
      repelFromPointer(e.clientX, e.clientY);
      startFloat();
    });
    noButton.addEventListener("pointerleave", stopFloat);
    noButton.addEventListener("mousedown", (e) => {
      e.preventDefault();
      startFloat();
    });
    noButton.addEventListener("touchstart", (e) => {
      e.preventDefault();
      startFloat();
    }, { passive: false });
    // block any click from succeeding and dodge farther
    noButton.addEventListener("click", (e) => {
      e.preventDefault();
      moveNoInsideSlot();
      moveNoInsideSlot();
    });

    // reset inside slot if window changes
    window.addEventListener("resize", () => {
      moveNoInsideSlot();
    });

    yesButton.addEventListener("click", (e) => {
      message.textContent =
        "YAY! I love you so much baby. You will be my valentine forever and ever. I knew you would say yes to me!!!";
      message.style.display = "block";
      message.scrollIntoView({ behavior: "smooth", block: "center" });

      if (floatTimer) {
        clearInterval(floatTimer);
        floatTimer = null;
      }
      noSlot.style.display = "none";
      releaseHearts(e);
    });

    function releaseHearts(event) {
      const { x, y, width, height } = event.target.getBoundingClientRect();
      const originX = x + width / 2;
      const originY = y + height / 2;

      for (let i = 0; i < 14; i++) {
        const heart = document.createElement("span");
        heart.className = "burst-heart";

        const angle = (Math.PI * 2 * i) / 14;
        const distance = 70 + Math.random() * 35;

        heart.style.setProperty("--x", `${Math.cos(angle) * distance}px`);
        heart.style.setProperty("--y", `${Math.sin(angle) * distance}px`);
        heart.style.left = `${originX}px`;
        heart.style.top = `${originY}px`;

        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 1600);
      }
    }
  </script>
</body>
</html>
